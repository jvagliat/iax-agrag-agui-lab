# 6 Ideas de Sistemas AgÃ©nticos ADK para Explorar

> **Objetivo**: Ejemplos standalone que expongan el potencial de ADK sin dependencias complejas
>
> **Criterios**:
> - âœ… Sin bases de datos ni infraestructura compleja
> - âœ… Copy-paste ready en archivos independientes
> - âœ… Mock tools o APIs pÃºblicas simples
> - âœ… Desplegables directamente en servidor AGUI
> - âŒ No incluyen ADK Runner ni bajo nivel

---

## 0. Agentic RAG System â­
**Pattern**: Triage + Clarification Loop + Retrieval with Self-Reflection + Quality Gate

### Arquitectura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER QUERY                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Triage Agent      â”‚â—„â”€â”€â”€â”€ Analiza intent + historial
                    â”‚   (Conversador)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                             â”‚
                â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Respuesta Directa    â”‚      â”‚   Clarifier Agent       â”‚
    â”‚ (secretaria/general) â”‚      â”‚   (Refinement Loop)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Â¿Suficientemente  â”‚
                                    â”‚   especÃ­fico?     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                   NO â—„â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â–º SÃ
                                   â”‚          â”‚         â”‚
                                   â–¼          â”‚         â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Pide detalles    â”‚  â”‚  â”‚ Retrieval Strategist     â”‚
                        â”‚ al usuario       â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚ 1. Planea queries    â”‚ â”‚
                                 â”‚            â”‚  â”‚ â”‚ 2. Ejecuta bÃºsquedas â”‚ â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ 3. Auto-evalÃºa       â”‚ â”‚
                                                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                   â”‚ Â¿Chunks suficientesâ”‚
                                                   â”‚   y relevantes?    â”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                              â”‚
                                                   NO â—„â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â–º SÃ
                                                   â”‚          â”‚         â”‚
                                                   â–¼          â”‚         â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚ Re-query con     â”‚  â”‚  â”‚   Synthesizer    â”‚
                                        â”‚ nueva estrategia â”‚  â”‚  â”‚   (Redactor)     â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚            â”‚           â”‚
                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â–¼
                                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                              â”‚   Quality Gate       â”‚
                                                              â”‚   (Validador)        â”‚
                                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                         â”‚
                                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                              â”‚ Â¿Coherente,        â”‚
                                                              â”‚ completo, citado?  â”‚
                                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                         â”‚
                                                              FAIL â—„â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â–º PASS
                                                              â”‚          â”‚       â”‚
                                                              â–¼          â”‚       â–¼
                                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                   â”‚ Rebotar a:     â”‚    â”‚  â”‚ RESPUESTAâ”‚
                                                   â”‚ - Retrieval o  â”‚    â”‚  â”‚  FINAL   â”‚
                                                   â”‚ - Synthesizer  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                                                            â”‚            â”‚
                                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Diagrama de Agentes y ComunicaciÃ³n

```
                                USER QUERY
                                    â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚     1ï¸âƒ£ TRIAGE AGENT                  â”‚
                â”‚     (Conversador/Router)              â”‚
                â”‚                                       â”‚
                â”‚  Tools:                               â”‚
                â”‚  â€¢ analyze_conversation_history()     â”‚
                â”‚  â€¢ transfer_to_clarifier()            â”‚
                â”‚  â€¢ answer_directly()                  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                      â†“
            [GENERAL Query]        [SPECIFIC Query]
                    â†“                      â†“
            Direct Answer      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚  2ï¸âƒ£ CLARIFIER AGENT       â”‚
                               â”‚  (Refinement Loop)        â”‚
                               â”‚                           â”‚
                               â”‚  Tools:                   â”‚
                               â”‚  â€¢ ask_user_for_details() â”‚
                               â”‚  â€¢ extract_keywords()     â”‚
                               â”‚  â€¢ transfer_to_retrieval()â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                   [ready: false]â”€â”€â”
                                          â”‚        â”‚
                                   [ready: true]   â”‚
                                          â†“        â”‚
                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                               â”‚ Ask User Details â”‚â”‚
                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                          â†‘        â”‚
                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                   [ready: true]
                                          â†“
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚  3ï¸âƒ£ RETRIEVAL STRATEGIST          â”‚
                      â”‚  (Planner + Executor + Evaluator) â”‚
                      â”‚                                    â”‚
                      â”‚  Tools:                            â”‚
                      â”‚  â€¢ vector_search()                 â”‚
                      â”‚  â€¢ expand_query()                  â”‚
                      â”‚  â€¢ score_chunk_relevance()         â”‚
                      â”‚  â€¢ transfer_to_synthesizer()       â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                         [Self-Reflection]
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                               â†“
            [quality_score < 70]          [quality_score â‰¥ 70]
                    â†“                               â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Re-query con â”‚               â”‚ 4ï¸âƒ£ SYNTHESIZER    â”‚
            â”‚ nueva estrat.â”‚               â”‚ (Redactor)        â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                   â”‚
                   â”‚                       â”‚ Tools:            â”‚
                   â”‚                       â”‚ â€¢ format_citationsâ”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â€¢ structure_resp. â”‚
                                           â”‚ â€¢ transfer_to_QG()â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                     â”‚
                                                     â†“
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚  5ï¸âƒ£ QUALITY GATE AGENT       â”‚
                                  â”‚  (Validador)                 â”‚
                                  â”‚                              â”‚
                                  â”‚  Tools:                      â”‚
                                  â”‚  â€¢ verify_citations()        â”‚
                                  â”‚  â€¢ check_completeness()      â”‚
                                  â”‚  â€¢ transfer_to_retrieval()   â”‚
                                  â”‚  â€¢ transfer_to_synthesizer() â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                    [Validation Decision]
                                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â†“                      â†“                      â†“
                [approved: true]    [feedback: retrieval]  [feedback: synthesis]
                        â†“                      â†“                      â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ RESPUESTAâ”‚          â”‚ Back to  â”‚          â”‚ Back to  â”‚
                  â”‚  FINAL   â”‚          â”‚ Agent 3ï¸âƒ£ â”‚          â”‚ Agent 4ï¸âƒ£ â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SHARED STATE (accesible por todos):
â”œâ”€ conversation_history
â”œâ”€ original_user_query
â”œâ”€ refined_query
â”œâ”€ retrieved_chunks
â””â”€ metadata (queries_used, scores, attempts)
```

---

### Agentes del Sistema

#### 1ï¸âƒ£ **Triage Agent** (Conversador/Router)
**Rol**: Punto de entrada del sistema, clasifica el tipo de consulta

**Prompt simplificado**:
```
Eres un asistente que clasifica consultas de usuarios.

Analiza la pregunta y el historial de conversaciÃ³n para determinar:
- GENERAL: Preguntas simples, saludos, aclaraciones de contexto
- SPECIFIC: Requiere bÃºsqueda en documentaciÃ³n tÃ©cnica

Retorna JSON: {"type": "GENERAL|SPECIFIC", "reason": "..."}
```

**Tools**:
- `analyze_conversation_history()` - Lee historial compartido
- `transfer_to_clarifier()` - Delega a Clarifier si es SPECIFIC
- `answer_directly()` - Responde si es GENERAL

---

#### 2ï¸âƒ£ **Clarifier Agent** (Refinamiento de Query)
**Rol**: Asegura que la pregunta sea suficientemente especÃ­fica antes de buscar

**Prompt simplificado**:
```
Eres un asistente que refina preguntas ambiguas.

EvalÃºa si la pregunta tiene suficiente contexto para buscar en docs:
- Â¿QuÃ© tema/mÃ³dulo especÃ­fico?
- Â¿QuÃ© versiÃ³n/contexto tÃ©cnico?
- Â¿QuÃ© tipo de respuesta busca? (conceptual, cÃ³digo, troubleshooting)

Si falta informaciÃ³n, pregunta al usuario.
Si estÃ¡ clara, extrae keywords y contexto para bÃºsqueda.

Retorna JSON: {"ready": true/false, "missing_info": "...", "search_context": {...}}
```

**Tools**:
- `ask_user_for_details(question)` - Solicita aclaraciones
- `extract_search_keywords(query)` - Extrae tÃ©rminos clave
- `transfer_to_retrieval()` - Delega a Retrieval cuando estÃ¡ listo

**Loop**: Puede iterar pidiendo detalles hasta tener query especÃ­fica

---

#### 3ï¸âƒ£ **Retrieval Strategist** (Planificador y Ejecutor de BÃºsquedas)
**Rol**: DiseÃ±a estrategia de bÃºsqueda, ejecuta queries vectoriales, auto-evalÃºa resultados

**Prompt simplificado**:
```
Eres un experto en recuperaciÃ³n de informaciÃ³n.

1. PLANIFICACIÃ“N: DescompÃ³n la pregunta en sub-queries necesarias
2. EJECUCIÃ“N: Busca en vector DB con diferentes estrategias:
   - BÃºsqueda semÃ¡ntica directa
   - ExpansiÃ³n de tÃ©rminos
   - BÃºsqueda por sinÃ³nimos/conceptos relacionados
3. AUTO-EVALUACIÃ“N: Analiza si los chunks recuperados:
   - Son relevantes a la pregunta
   - Tienen suficiente informaciÃ³n
   - No son contradictorios

Retorna JSON: {
  "queries_executed": [...],
  "chunks_found": [...],
  "quality_score": 0-100,
  "needs_requery": true/false,
  "requery_strategy": "..."
}
```

**Tools**:
- `vector_search(query, top_k)` - BÃºsqueda en vector DB
- `expand_query(original_query)` - Genera variaciones
- `score_chunk_relevance(chunk, query)` - EvalÃºa relevancia
- `transfer_to_synthesizer()` - Delega cuando tiene info suficiente

**Self-Reflection**: Si `quality_score < 70`, re-ejecuta con nueva estrategia

---

#### 4ï¸âƒ£ **Synthesizer Agent** (Redactor)
**Rol**: Genera respuesta final citando fuentes

**Prompt simplificado**:
```
Eres un redactor tÃ©cnico experto.

Usando los chunks recuperados, genera una respuesta que:
1. Responda directamente la pregunta del usuario
2. Cite las fuentes con formato [Doc X, lÃ­nea Y]
3. Use lenguaje claro y estructurado
4. Indique si la informaciÃ³n es parcial o completa

Formato de salida:
- Respuesta principal
- SecciÃ³n "Fuentes consultadas"
- Advertencias/limitaciones si aplica
```

**Tools**:
- `format_citations(chunks)` - Genera referencias
- `structure_response(content)` - Da formato profesional
- `transfer_to_quality_gate()` - EnvÃ­a a validaciÃ³n

---

#### 5ï¸âƒ£ **Quality Gate Agent** (Validador)
**Rol**: Valida coherencia, completitud y calidad de la respuesta final

**Prompt simplificado**:
```
Eres un revisor de calidad de respuestas tÃ©cnicas.

EvalÃºa la respuesta segÃºn criterios:
1. COHERENCIA: Â¿La respuesta tiene sentido lÃ³gico?
2. COMPLETITUD: Â¿Responde toda la pregunta original?
3. CITATIONS: Â¿Todas las afirmaciones estÃ¡n citadas?
4. ACCURACY: Â¿Los chunks citados realmente soportan lo dicho?

Retorna JSON: {
  "approved": true/false,
  "issues": [...],
  "feedback_for": "retrieval|synthesis",
  "suggested_fix": "..."
}
```

**Tools**:
- `verify_citations(response, chunks)` - Valida referencias
- `check_completeness(response, original_query)` - Verifica cobertura
- `transfer_to_retrieval()` - Rebotar si faltan chunks
- `transfer_to_synthesizer()` - Rebotar si es problema de redacciÃ³n

**Decision Tree**:
- `approved: true` â†’ Retorna respuesta final
- `feedback_for: "retrieval"` â†’ Vuelve a Retrieval Strategist
- `feedback_for: "synthesis"` â†’ Vuelve a Synthesizer

---

### TÃ©cnicas LLM
- **Intent classification** en Triage
- **Conversational refinement** en Clarifier
- **Query decomposition** en Retrieval Strategist
- **Self-reflection** para evaluar calidad de chunks
- **Citation-aware synthesis** en Redactor
- **Multi-criteria validation** en Quality Gate

### Tools Globales (Mock)
- Vector DB search (mock con embeddings)
- Relevance scorer
- Query expander
- Citation extractor
- Coherence validator

### Mejoras vs RAG tradicional
- âœ… **Triage inteligente**: No todo va a RAG, preguntas simples se responden directo
- âœ… **Clarification loop**: Evita retrievals inÃºtiles por queries ambiguas
- âœ… **Self-reflection**: El agente evalÃºa si necesita mÃ¡s contexto antes de redactar
- âœ… **Quality feedback loop**: Puede reintentar retrieval o sÃ­ntesis si falla validaciÃ³n
- âœ… **Shared state**: Historial conversacional informa todas las decisiones

### Complejidad: Alta
**Output esperado**: Respuesta documentada con citations + metadata de retrieval (queries usadas, chunks relevantes, confidence score)

---

## 1. Research Paper Analyzer
**Pattern**: Coordinator + Specialist

### Arquitectura
```
Coordinator Agent
â”œâ”€â”€ Methodology Critic (analiza rigor metodolÃ³gico)
â”œâ”€â”€ Results Interpreter (extrae hallazgos clave)
â”œâ”€â”€ Literature Contextualizador (sitÃºa el paper en su campo)
â””â”€â”€ Synthesizer Agent (agrega anÃ¡lisis y genera reporte)
```

### TÃ©cnicas LLM
- **Few-shot prompting** para cada especialista
- **Chain-of-thought** en anÃ¡lisis crÃ­tico
- **Summarization avanzada** en sÃ­ntesis final

### Tools
- Text extraction
- Citation parser
- Keyword analyzer

### Complejidad: Media
**Output esperado**: Reporte multi-dimensional de anÃ¡lisis acadÃ©mico

---

## 2. Code Review & Refactor Assistant
**Pattern**: Sequential + Iterative (LoopAgent)

### Arquitectura
```
Sequential Pipeline:
1. Security Auditor â†’ detecta vulnerabilidades
2. Performance Analyzer â†’ identifica cuellos de botella
3. Best Practices Reviewer â†’ valida patrones
4. Refactoring Agent â†’ propone cambios especÃ­ficos
5. Quality Gate (Loop) â†’ evalÃºa si cumple umbrales
```

### TÃ©cnicas LLM
- **Role-based prompting** (cada agente con rol experto)
- **Self-consistency** en detecciÃ³n de issues
- **Reflection pattern** en quality gate

### Tools
- Code parser
- AST analyzer
- Metrics calculator
- Linting validator

### Complejidad: Media-Alta
**Output esperado**: AnÃ¡lisis completo + refactorizaciÃ³n sugerida con mÃ©tricas

---

## 3. Travel Planner
**Pattern**: Parallel Fan-Out + Human-in-the-Loop

### Arquitectura
```
Master Planner
â”œâ”€â”€ (Parallel) Flight Searcher
â”œâ”€â”€ (Parallel) Hotel Finder
â”œâ”€â”€ (Parallel) Activity Curator
â””â”€â”€ Budget Optimizer (agrega resultados)
    â””â”€â”€ Human Approval Gate â¸ï¸
```

### TÃ©cnicas LLM
- **Constraint-based prompting** para presupuesto
- **Preference learning** de conversaciÃ³n
- **Multi-criteria ranking**

### Tools
- Mock flight API
- Hotel search (mock)
- Weather API (pÃºblica)
- Budget calculator

### Complejidad: Alta
**Output esperado**: Plan de viaje completo optimizado esperando aprobaciÃ³n humana

---

## 4. Debate & Consensus Builder
**Pattern**: Adversarial + Synthesis

### Arquitectura
```
Moderator (orquestador)
â”œâ”€â”€ Proposition Agent (argumenta a favor)
â”œâ”€â”€ Opposition Agent (argumenta en contra)
â”œâ”€â”€ Fact Checker (valida claims)
â””â”€â”€ Mediator (busca consenso)

Shared State: Historial de argumentos + facts verificados
```

### TÃ©cnicas LLM
- **Adversarial prompting**
- **Socratic questioning** en moderador
- **Logical reasoning** en fact checker
- **Dialectical synthesis**

### Tools
- Fact verification (mock)
- Argument structure analyzer
- Contradiction detector
- Logical fallacy identifier

### Complejidad: Media
**Output esperado**: Debate estructurado + puntos de consenso encontrados

---

## 5. Adaptive Learning Tutor
**Pattern**: Hierarchical + Adaptive (LoopAgent)

### Arquitectura
```
Assessment Agent
â””â”€â”€ Curriculum Designer
    â”œâ”€â”€ Explainer Agent (enseÃ±a conceptos)
    â”œâ”€â”€ Quiz Generator (ejercicios adaptativos)
    â””â”€â”€ Performance Tracker (ajusta dificultad)
        â””â”€â”€ LoopAgent (itera hasta dominio)
```

### TÃ©cnicas LLM
- **Adaptive prompting** segÃºn nivel estudiante
- **Analogical reasoning** para explicaciones
- **Scaffolding incremental**
- **Meta-learning** (aprender cÃ³mo aprende el usuario)

### Tools
- Difficulty scorer
- Example generator
- Progress tracker
- Knowledge graph builder (simple)

### Complejidad: Alta
**Output esperado**: SesiÃ³n educativa personalizada con progreso medible

---


## ğŸ“Š Resumen Comparativo

| Ejemplo | Multi-Agent Pattern | TÃ©cnicas LLM Clave | Tools | Complejidad |
|---------|--------------------|--------------------|-------|-------------|
| **Agentic RAG** â­ | Triage + Loop + Self-Reflection + Gate | Intent classification, Query decomposition, Self-reflection | 4-5 | Alta |
| **Paper Analyzer** | Coordinator + Specialists | Few-shot, CoT, Summarization | 3-4 | Media |
| **Code Review** | Sequential + Iterative | Role-based, Self-consistency, Reflection | 4-5 | Media-Alta |
| **Travel Planner** | Parallel + Human-in-Loop | Constraint-based, Preference learning | 5-6 | Alta |
| **Debate System** | Adversarial + Synthesis | Socratic, Dialectical, Logical reasoning | 3-4 | Media |
| **Learning Tutor** | Hierarchical + Adaptive | Adaptive, Scaffolding, Meta-learning | 4-5 | Alta |

---

## ğŸ¯ Cobertura de Capacidades ADK

### Patrones Multi-AgÃ©nticos
- âœ… Coordinator/Dispatcher
- âœ… Sequential Pipeline
- âœ… Parallel Fan-Out/Gather
- âœ… Hierarchical Task Decomposition
- âœ… Review/Critique (iterative)
- âœ… Human-in-the-Loop
- âœ… Adversarial/Debate
- âœ… Adaptive/Loop

### TÃ©cnicas de Prompting Avanzadas
- âœ… Few-shot prompting
- âœ… Chain-of-thought (CoT)
- âœ… Role-based prompting
- âœ… Self-consistency
- âœ… Reflection
- âœ… Constraint-based
- âœ… Adversarial
- âœ… Socratic questioning
- âœ… Dialectical synthesis
- âœ… Adaptive prompting
- âœ… Scaffolding
- âœ… Meta-learning

### Mecanismos de ComunicaciÃ³n
- âœ… Shared Session State
- âœ… LLM-Driven Delegation (`transfer_to_agent()`)
- âœ… Explicit Invocation (AgentTool)

---

## ğŸš€ PrÃ³ximos Pasos

1. **Seleccionar** 1-2 ejemplos para desarrollo inicial
2. **Implementar** cada ejemplo en archivo standalone
3. **Probar** despliegue en servidor AGUI
4. **Iterar** segÃºn eventos/datos emitidos observados

---

## ğŸ“ Notas de ImplementaciÃ³n

- **No usar**: ADK Runner, deployment configs, containerization
- **Usar**: Solo definiciÃ³n de agentes, tools, prompts
- **Formato**: Python standalone compatible con servidor AGUI
- **Testing**: Mock data para demostraciÃ³n inmediata
